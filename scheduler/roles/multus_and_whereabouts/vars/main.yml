# Copyright 2025 Dell Inc. or its subsidiaries. All Rights Reserved.
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#     http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.

# Usage include_network_spec.yml
network_spec_syntax_fail_msg: "Failed. Syntax errors present in network_spec.yml. Fix errors and re-run playbook again."
input_dir: "{{ hostvars['localhost']['input_project_dir'] }}"
project_name: "{{ hostvars['localhost']['project_name'] }}"
network_spec_path: "{{ input_dir }}/network_spec.yml"
pulp_container_name: "{{ admin_nic_ip }}:2225"

# Usage main.yml
multus_config: "true"
multus_deployment_template: "{{ role_path }}/templates/multus-daemonset.j2"
multus_deployment_manifest: "/opt/omnia/offline_repo/cluster/manifest/multus-daemonset/multus-daemonset.yml"
multus_deployment_manifest_path: "{{ hostvars['localhost']['offline_manifest_path'] }}/multus-daemonset/multus-daemonset.yml"
multus_deployment_manifest_mode: "0644"
multus_version: "v4.1.4-thick"
memory_limit_kube_multus: "1Gi"
memory_limit_multus_binary: "1Gi"
multus_command:
  - sh
  - -c
  - |
    if [ ! -f /host/opt/cni/bin/multus-shim ]; then
      cp /usr/src/multus-cni/bin/multus-shim /host/opt/cni/bin/multus-shim;
    fi
whereabouts_git_url: "{{ hostvars['localhost']['offline_git_path'] }}/whereabouts/whereabouts.tar.gz"
whereabouts_dest_folder: "/tmp/whereabouts.tar.gz"
whereabouts_folder: "/tmp/whereabouts"
tmp_folder: "/tmp"
wherabout_crds_folder: "/tmp/whereabouts/doc/crds/"
git_permissions: "0644"
